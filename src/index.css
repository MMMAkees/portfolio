@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES — Dark Mode (default)
   ============================================ */
:root,
html.dark {
  --bg-primary: #0A0A0F;
  --bg-secondary: #07070D;
  --bg-card: rgba(18, 18, 26, 0.8);
  --nav-bg: rgba(10, 10, 15, 0.85);
  --nav-border: rgba(30, 30, 46, 0.8);
  --text-primary: #E8E8F0;
  --text-muted: #8888AA;
  --border-color: #1E1E2E;
  --card-bg: #12121A;
  --section-dark: #0A0A0F;
  --section-darker: #07070D;
  --color-primary: #6C63FF;
  --color-accent: #43E97B;
  --color-secondary: #FF6584;
  --scrollbar-track: #06060A;
  --noise-opacity: 0.35;
}

/* ============================================
   CSS VARIABLES — Light Mode
   ============================================ */
html.light {
  --bg-primary: #F4F4FC;
  --bg-secondary: #EAEAF5;
  --bg-card: rgba(255, 255, 255, 0.9);
  --nav-bg: rgba(244, 244, 252, 0.92);
  --nav-border: rgba(200, 200, 230, 0.7);
  --text-primary: #16162A;
  --text-muted: #5858A0;
  --border-color: #D8D8EE;
  --card-bg: #FFFFFF;
  --section-dark: #F4F4FC;
  --section-darker: #EAEAF5;
  --color-primary: #5B52E8;
  --color-accent: #28A65E;
  --color-secondary: #E03060;
  --scrollbar-track: #E0E0F0;
  --noise-opacity: 0;
}

/* ============================================
   BASE STYLES
   ============================================ */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
  }

  body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    overflow-x: hidden;
    line-height: 1.6;
  }

  ::selection {
    background-color: rgba(108, 99, 255, 0.25);
    color: #fff;
  }

  ::-webkit-scrollbar {
    width: 5px;
  }

  ::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--color-primary), var(--color-accent));
    border-radius: 10px;
  }
}

/* ============================================
   COMPONENTS
   ============================================ */
@layer components {
  .section-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    padding-top: 5rem;
    padding-bottom: 5rem;
  }

  .gradient-text {
    background: linear-gradient(135deg, var(--color-primary), #a78bfa, var(--color-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-secondary {
    background: linear-gradient(135deg, var(--color-secondary), #fb923c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .glass-card {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
  }

  html.light .glass-card {
    box-shadow: 0 2px 16px rgba(90, 82, 232, 0.06);
  }

  .glow-button {
    @apply relative overflow-hidden text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 hover:scale-105 active:scale-95;
    background: linear-gradient(135deg, var(--color-primary), #8b5cf6);
    box-shadow: 0 0 20px rgba(108, 99, 255, 0.3);
  }

  .glow-button:hover {
    box-shadow: 0 0 35px rgba(108, 99, 255, 0.55);
  }

  .outline-button {
    @apply font-semibold px-8 py-3 rounded-full transition-all duration-300;
    border: 1px solid rgba(108, 99, 255, 0.5);
    color: var(--color-primary);
  }

  .outline-button:hover {
    background: rgba(108, 99, 255, 0.1);
    border-color: var(--color-primary);
    box-shadow: 0 0 20px rgba(108, 99, 255, 0.25);
  }

  .section-title {
    @apply text-4xl md:text-5xl font-bold mb-4;
    color: var(--text-primary);
  }

  .section-subtitle {
    color: var(--text-muted);
    @apply text-lg max-w-2xl;
  }

  .skill-tag {
    @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-300;
    border: 1px solid var(--border-color);
    background: var(--card-bg);
    color: var(--text-muted);
  }

  .skill-tag:hover {
    border-color: rgba(108, 99, 255, 0.5);
    color: var(--text-primary);
    background: rgba(108, 99, 255, 0.08);
  }

  /* Section background helpers */
  .section-bg-primary {
    background-color: var(--section-dark) !important;
  }

  .section-bg-secondary {
    background-color: var(--section-darker) !important;
  }
}

/* ============================================
   LIGHT MODE — Override Tailwind static colors
   ============================================ */
html.light .bg-\[\#0A0A0F\],
html.light .bg-dark,
html.light section[style*="bg-primary"],
html.light [class*="bg-dark"] {
  background-color: var(--bg-primary) !important;
}

html.light .bg-darker {
  background-color: var(--bg-secondary) !important;
}

html.light .text-white {
  color: var(--text-primary) !important;
}

html.light .text-muted {
  color: var(--text-muted) !important;
}

html.light .border-border {
  border-color: var(--border-color) !important;
}

html.light .border-border\/50 {
  border-color: color-mix(in srgb, var(--border-color) 50%, transparent) !important;
}

/* Hero section light bg */
html.light #hero {
  background-color: var(--bg-primary) !important;
}

html.light #hero .absolute.inset-0.bg-gradient-radial {
  opacity: 0.4;
}

/* Light mode section alternating */
html.light #about,
html.light #skills,
html.light #experience,
html.light #projects,
html.light #education,
html.light #certifications,
html.light #contact {
  background-color: var(--bg-primary) !important;
}

html.light #about,
html.light #experience,
html.light #education,
html.light #certifications {
  background-color: var(--bg-secondary) !important;
}

/* Fix muted text in light */
html.light [style*="color: var(--text-muted)"],
html.light [class*="text-muted"] {
  color: var(--text-muted) !important;
}

html.light [style*="color: var(--text-primary)"],
html.light [class*="text-primary-val"] {
  color: var(--text-primary) !important;
}

/* Fix: Footer */
html.light footer {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

/* Noise overlay — dark only */
html.dark body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
  opacity: 0.35;
}

/* Smooth theme transitions on backgrounds and borders only */
body,
section,
nav,
footer,
.glass-card,
div {
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* Don't transition transforms (framer motion owns those) */