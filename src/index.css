@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES — Dark Mode (default)
   ============================================ */
:root,
html.dark {
  --bg-primary: #0A0A0F;
  --bg-secondary: #06060A;
  --bg-card: #12121A;
  --nav-bg: rgba(10, 10, 15, 0.85);
  --nav-border: rgba(30, 30, 46, 0.8);
  --text-primary: #E8E8F0;
  --text-muted: #8888AA;
  --border-color: #1E1E2E;
  --card-bg: #12121A;
  --color-primary: #6C63FF;
  --color-accent: #43E97B;
  --color-secondary: #FF6584;
}

/* ============================================
   CSS VARIABLES — Light Mode
   ============================================ */
html.light {
  --bg-primary: #F5F5FA;
  --bg-secondary: #EEEEF8;
  --bg-card: #FFFFFF;
  --nav-bg: rgba(245, 245, 250, 0.9);
  --nav-border: rgba(200, 200, 220, 0.8);
  --text-primary: #1A1A2E;
  --text-muted: #6060A0;
  --border-color: #DEDEE8;
  --card-bg: #FFFFFF;
  --color-primary: #5B52E8;
  --color-accent: #2DB966;
  --color-secondary: #E54B6A;
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 90px;
  }

  body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    overflow-x: hidden;
    line-height: 1.6;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  ::selection {
    background-color: rgba(108, 99, 255, 0.25);
    color: #fff;
  }

  ::-webkit-scrollbar {
    width: 5px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--color-primary), var(--color-accent));
    border-radius: 10px;
  }
}

@layer components {
  .section-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20;
  }

  .gradient-text {
    background: linear-gradient(135deg, var(--color-primary), #a78bfa, var(--color-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-secondary {
    background: linear-gradient(135deg, var(--color-secondary), #fb923c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .glass-card {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
  }

  html.light .glass-card {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-color: rgba(200, 200, 220, 0.6);
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
  }

  .glow-button {
    @apply relative overflow-hidden text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 hover:scale-105 active:scale-95;
    background: linear-gradient(135deg, var(--color-primary), #8b5cf6);
    box-shadow: 0 0 20px rgba(108, 99, 255, 0.3);
  }

  .glow-button:hover {
    box-shadow: 0 0 35px rgba(108, 99, 255, 0.55);
  }

  .outline-button {
    @apply font-semibold px-8 py-3 rounded-full transition-all duration-300;
    border: 1px solid rgba(108, 99, 255, 0.5);
    color: var(--color-primary);
  }

  .outline-button:hover {
    background: rgba(108, 99, 255, 0.1);
    border-color: var(--color-primary);
    box-shadow: 0 0 20px rgba(108, 99, 255, 0.25);
  }

  .section-title {
    @apply text-4xl md:text-5xl font-bold mb-4;
    color: var(--text-primary);
  }

  .section-subtitle {
    color: var(--text-muted);
    @apply text-lg max-w-2xl;
  }

  .skill-tag {
    @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-300;
    border: 1px solid var(--border-color);
    background: var(--card-bg);
    color: var(--text-muted);
  }

  .skill-tag:hover {
    border-color: rgba(108, 99, 255, 0.5);
    color: var(--text-primary);
    background: rgba(108, 99, 255, 0.08);
  }
}

@layer utilities {
  .text-glow {
    text-shadow: 0 0 30px rgba(108, 99, 255, 0.5);
  }

  .bg-dark {
    background-color: var(--bg-primary);
  }

  .bg-darker {
    background-color: var(--bg-secondary);
  }

  .bg-card {
    background-color: var(--card-bg);
  }

  .text-muted {
    color: var(--text-muted);
  }

  .border-border {
    border-color: var(--border-color);
  }
}

/* Section bg helpers that respect theme */
.section-bg-dark {
  background-color: var(--bg-primary);
}

.section-bg-darker {
  background-color: var(--bg-secondary);
}

/* Noise overlay — dark only */
html.dark body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
  opacity: 0.35;
}

/* Smooth theme transitions */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, box-shadow;
  transition-duration: 0.25s;
  transition-timing-function: ease;
}

/* But not transform/opacity — let framer motion handle those */
.motion-safe\:transition-none {
  transition-property: none !important;
}